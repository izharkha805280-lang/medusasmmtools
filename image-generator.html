<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="description" content="Generate stunning AI art from text instantly for Free. MedusaSMM AI Image Generator creates realistic, anime, and 3D images. No signup needed.">
<meta name="keywords" content="ai image generator free, text to image ai, create art from text, free ai art generator without login, unlimited ai image generator, online photo maker ai, cyber art generator, medusa ai tool, text to photo converter">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Generator - MedusaSMM</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@600&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* --- CSS Wahi Same Hai (No Changes needed in Design) --- */
        :root { --bg: #030014; --glass: rgba(255,255,255,0.05); --border: rgba(255,255,255,0.1); --primary: #d900ff; --text: #fff; --gray: #9ca3af; --danger: #ff4444; }
        body { background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; display: flex; flex-direction: column; min-height: 100vh; margin: 0; }
        
        nav { padding: 20px 5%; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-family: 'Outfit', sans-serif; font-size: 1.5rem; text-decoration: none; color: #fff; }
        
        .main-wrapper { flex: 1; padding: 40px 20px; width: 100%; max-width: 800px; margin: 0 auto; }
        .tool-box { background: var(--glass); border: 1px solid var(--border); border-radius: 20px; padding: 30px; margin-bottom: 40px; text-align: center; }
        h1 { font-family: 'Outfit'; color: var(--primary); margin-bottom: 20px; font-size: 2rem; }
        
        input { width: 100%; padding: 18px; background: rgba(0,0,0,0.3); border: 1px solid #444; color: #fff; border-radius: 8px; font-size: 1rem; margin-bottom: 15px; outline:none; }
        input:focus { border-color: var(--primary); }

        button { width: 100%; padding: 18px; background: var(--primary); color: #fff; font-weight: bold; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1rem; transition: 0.3s; }
        button:hover { box-shadow: 0 0 20px var(--primary); transform: translateY(-2px); }
        button:disabled { background: #555; cursor: not-allowed; transform: none; box-shadow: none; opacity: 0.7; }
        
        .image-container { 
            margin-top: 30px; 
            min-height: 300px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            background: rgba(0,0,0,0.2); 
            border-radius: 10px; 
            border: 1px dashed var(--gray);
            position: relative;
            overflow: hidden;
        }
        
        .image-container img { max-width: 100%; border-radius: 10px; display: none; box-shadow: 0 0 30px rgba(217, 0, 255, 0.3); }
        
        .loading { display: none; color: var(--primary); font-family: 'Outfit'; font-size: 1.2rem; flex-direction: column; align-items: center; gap: 10px; }
        .spinner { width: 40px; height: 40px; border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .download-btn { display: inline-block; margin-top: 20px; padding: 12px 25px; background: #fff; color: #000; text-decoration: none; font-weight: bold; border-radius: 5px; display: none; cursor: pointer; }

        .status-msg { margin-top: 15px; padding: 15px; border-radius: 8px; display: none; font-weight: bold; text-align: center; }
        .error { background: rgba(255, 68, 68, 0.2); color: #ff4444; border: 1px solid #ff4444; }
        .warning { background: rgba(255, 187, 0, 0.2); color: #ffbb00; border: 1px solid #ffbb00; }

        /* Suggestions & Footer */
        .suggestions { margin-top: 50px; border-top: 1px solid var(--border); padding-top: 30px; }
        .sugg-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 20px; }
        .sugg-card { background: var(--glass); padding: 15px; border-radius: 10px; text-align: center; border: 1px solid var(--border); transition:0.3s; }
        .sugg-card:hover { border-color: var(--primary); transform: translateY(-3px); }
        .sugg-card a { text-decoration: none; color: #fff; display: block; }
        
        footer { border-top: 1px solid var(--border); padding: 40px 5%; background: rgba(0,0,0,0.3); margin-top: auto; }
        .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; max-width: 1200px; margin: 0 auto; }
        .footer-col h3 { color: #fff; margin-bottom: 15px; font-family: 'Outfit'; }
        .footer-col ul { list-style: none; padding: 0; }
        .footer-col li a { color: var(--gray); text-decoration: none; font-size: 0.9rem; display: block; margin-bottom: 8px; }
        .copy { text-align: center; margin-top: 40px; color: var(--gray); font-size: 0.8rem; border-top: 1px solid var(--border); padding-top: 20px; }
    </style>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">MedusaTools</a>
        <a href="index.html" style="color:#aaa; text-decoration:none;">Back</a>
    </nav>

    <div class="main-wrapper">
        <div class="tool-box">
            <h1>üé® AI Image Generator</h1>
            <p style="color:gray; margin-bottom:20px;">Safe & Secure AI Art Generation.</p>
            
            <input type="text" id="promptInput" placeholder="e.g. A futuristic cyberpunk city...">
            <button id="genBtn" onclick="initiateGeneration()">‚ú® Generate Art</button>
            
            <div id="statusBox" class="status-msg"></div>

            <div class="image-container">
                <div class="loading" id="loader">
                    <div class="spinner"></div>
                    <span>Creating Magic... Please wait...</span>
                </div>
                <img id="resultImg" src="" alt="AI Generated Image">
            </div>

            <a id="downloadLink" class="download-btn" download="medusa-art.jpg">Download Image</a>
        </div>

        <div class="suggestions">
            <h2>üî• Try These Tools</h2>
            <div class="sugg-grid">
                <div class="sugg-card"><a href="image-compressor.html">üìâ Image Compressor</a></div>
                <div class="sugg-card"><a href="text-speech.html">üó£Ô∏è Text to Speech</a></div>
                <div class="sugg-card"><a href="qr-generator.html">üî≥ QR Generator</a></div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-grid">
            <div class="footer-col">
                <h3>MedusaSMM</h3>
                <p style="color:var(--gray); font-size:0.9rem;">Creative Tools.</p>
            </div>
            <div class="footer-col">
                <h3>Legal</h3>
                <ul>
                    <li><a href="privacy.html">Privacy Policy</a></li>
                    <li><a href="terms.html">Terms of Use</a></li>
                    <li><a href="disclaimer.html">Disclaimer</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h3>Company</h3>
                <ul>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
        <div class="copy">&copy; 2024 MedusaSMM Tools. All rights reserved.</div>
    </footer>

    <script>
        // --- 1. SAFETY LOGIC ---
        const bannedWords = ['nude', 'naked', 'sex', 'porn', 'xxx', 'blood', 'kill', 'murder', 'terrorist', 'drug', 'abuse', 'child', 'nsfw'];
        const MAX_STRIKES = 3;
        const BAN_DURATION_MS = 3 * 60 * 60 * 1000; // 3 Hours

        function checkSafety(prompt) {
            let strikes = parseInt(localStorage.getItem('medusa_strikes') || '0');
            let banTime = parseInt(localStorage.getItem('medusa_ban_time') || '0');
            let currentTime = new Date().getTime();

            // Check Suspended Status
            if (currentTime < banTime) {
                let remaining = Math.ceil((banTime - currentTime) / (1000 * 60)); 
                showStatus(`‚õî You are suspended! Try again in ${remaining} minutes.`, 'error');
                return false;
            } else if (banTime > 0 && currentTime > banTime) {
                // Reset if ban over
                localStorage.setItem('medusa_strikes', '0');
                localStorage.setItem('medusa_ban_time', '0');
                strikes = 0;
            }

            // Check Content
            let lowerPrompt = prompt.toLowerCase();
            let foundBadWord = bannedWords.some(word => lowerPrompt.includes(word));

            if (foundBadWord) {
                strikes++;
                localStorage.setItem('medusa_strikes', strikes);

                if (strikes >= MAX_STRIKES) {
                    let newBanTime = currentTime + BAN_DURATION_MS;
                    localStorage.setItem('medusa_ban_time', newBanTime);
                    showStatus(`üö´ Account Suspended for 3 Hours due to safety violations.`, 'error');
                } else {
                    let left = MAX_STRIKES - strikes;
                    showStatus(`‚ö†Ô∏è Warning! Content violation detected. ${left} attempts remaining before suspension.`, 'warning');
                }
                return false;
            }

            hideStatus();
            return true;
        }

        function showStatus(msg, type) {
            const box = document.getElementById('statusBox');
            box.innerText = msg;
            box.className = `status-msg ${type}`;
            box.style.display = 'block';
        }

        function hideStatus() {
            document.getElementById('statusBox').style.display = 'none';
        }

        // --- 2. GENERATION LOGIC (FAIL-SAFE) ---
        function initiateGeneration() {
            let prompt = document.getElementById('promptInput').value;
            
            if(!prompt) {
                alert("Please write a description first!");
                return;
            }

            if (!checkSafety(prompt)) return;

            // UI Loading State
            let imgElement = document.getElementById('resultImg');
            let loader = document.getElementById('loader');
            let downloadBtn = document.getElementById('downloadLink');
            let genBtn = document.getElementById('genBtn');

            imgElement.style.display = 'none';
            downloadBtn.style.display = 'none';
            loader.style.display = 'flex';
            genBtn.disabled = true;
            genBtn.innerText = "Generating...";

            // API Call
            let randomSeed = Math.floor(Math.random() * 10000);
            let apiUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?n=${randomSeed}&width=800&height=800&model=flux`;

            // Using Fetch + Blob + ObjectURL (Most Compatible Method)
            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) throw new Error("Network response was not ok");
                    return response.blob();
                })
                .then(blob => {
                    let imgUrl = URL.createObjectURL(blob);
                    applyWatermark(imgUrl);
                })
                .catch(error => {
                    console.error("Fetch error:", error);
                    showStatus("Error: Could not connect to Image Server. Try again later.", "error");
                    resetUI();
                });
        }

        function applyWatermark(sourceUrl) {
            let canvas = document.createElement('canvas');
            let ctx = canvas.getContext('2d');
            let tempImg = new Image();
            
            tempImg.crossOrigin = "Anonymous"; // Crucial for security
            tempImg.src = sourceUrl;

            tempImg.onload = function() {
                canvas.width = tempImg.width;
                canvas.height = tempImg.height;
                
                // Draw Original Image
                ctx.drawImage(tempImg, 0, 0);

                // --- WATERMARK ---
                let text = "MedusaSMM Tools";
                let fontSize = canvas.width / 25; 
                let padding = 20;

                ctx.font = `bold ${fontSize}px sans-serif`;
                let textWidth = ctx.measureText(text).width;
                
                // Black Box
                let boxX = canvas.width - textWidth - (padding * 2);
                let boxY = canvas.height - fontSize - (padding * 1.5);
                let boxWidth = textWidth + (padding * 2);
                let boxHeight = fontSize + (padding * 2);

                ctx.fillStyle = "rgba(0, 0, 0, 0.7)"; 
                ctx.fillRect(boxX, boxY, boxWidth, boxHeight);

                // Text
                ctx.fillStyle = "#ffffff";
                ctx.textAlign = "left";
                ctx.textBaseline = "middle";
                let textX = boxX + padding;
                let textY = boxY + (boxHeight / 2) + 4;
                ctx.fillText(text, textX, textY);
                // --- END WATERMARK ---

                // Final Output
                let finalUrl = canvas.toDataURL("image/jpeg");
                
                let imgElement = document.getElementById('resultImg');
                let downloadBtn = document.getElementById('downloadLink');
                
                imgElement.src = finalUrl;
                imgElement.style.display = 'block';
                downloadBtn.href = finalUrl;
                downloadBtn.style.display = 'inline-block';
                
                resetUI();
            };

            tempImg.onerror = function() {
                showStatus("Error processing image watermark.", "error");
                resetUI();
            };
        }

        function resetUI() {
            document.getElementById('loader').style.display = 'none';
            let genBtn = document.getElementById('genBtn');
            genBtn.disabled = false;
            genBtn.innerText = "‚ú® Generate Art";
        }
    </script>
</body>
</html>
